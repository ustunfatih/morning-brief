
<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <!-- CACHE BUSTING -->
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <title>Morning Brief | Fatih</title>
    <style>
        :root {
            --bg-body: #FDF6EC; --bg-card: #FFFFFF; --bg-card-highlight: #FFF8F0;
            --text-main: #3D3D3D; --text-muted: #7A7A7A;
            --accent-primary: #E8A87C; --accent-secondary: #A8D8EA;
            --accent-danger: #F3A6A6; --accent-success: #A8E6CF;
            --accent-lavender: #C3B1E1;
            --border-radius: 16px;
            --font-stack: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            --shadow-card: 0 6px 18px rgba(31, 25, 10, 0.08);
            --border-light: #EDE3D7;
            --text-base: 0.95rem;
            --text-small: 0.8rem;
            --text-title: 1.15rem;
            --text-hero: 1.9rem;
        }

        /* Reset & Base */
        * { box-sizing: border-box; outline: none; -webkit-tap-highlight-color: transparent; }
        body {
            background-color: var(--bg-body);
            color: var(--text-main);
            font-family: var(--font-stack);
            margin: 0;
            padding: 0;
            line-height: 1.65;
            font-size: var(--text-base);
            min-height: 100vh;
        }

        /* Layout Container */
        .container {
            max-width: 480px;
            margin: 0 auto;
            padding: 0 0 24px 0;
        }

        /* Header Graphic - RESPONSIVE */
        .header-wrapper {
            background-color: var(--bg-body);
            width: 100%;
            display: flex;
            justify-content: center;
        }

        .header-graphic {
            width: 100%;
            max-width: 480px;
            height: 180px;
            background: linear-gradient(135deg, #FFF1E6 0%, #E8F4FD 50%, #F3E8FF 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
            border-bottom: 1px solid var(--border-light);
            border-radius: 0 0 24px 24px;
        }

        .header-content {
            position: absolute;
            bottom: 18px;
            left: 15px;
            z-index: 2;
        }
        .date-badge {
            background: rgba(232, 168, 124, 0.15);
            backdrop-filter: blur(10px);
            padding: 5px 10px;
            border-radius: 8px;
            font-size: var(--text-small);
            color: #C07A50;
            font-weight: 600;
            display: inline-block;
            margin-bottom: 5px;
        }
        h1 { margin: 0; font-size: var(--text-hero); font-weight: 800; letter-spacing: -0.6px; color: #3D3D3D; }

        /* Mood Band - thin decorative strip */
        .mood-band {
            height: 6px;
            width: 100%;
            background: linear-gradient(90deg, var(--accent-lavender) 0%, var(--accent-secondary) 35%, var(--accent-success) 65%, var(--accent-primary) 100%);
            margin: 0;
            border: none;
        }

        /* Navigation (TOC) */
        .toc-scroller {
            position: sticky;
            top: 0;
            background: rgba(253, 246, 236, 0.95);
            backdrop-filter: blur(10px);
            z-index: 100;
            padding: 10px 0;
            white-space: nowrap;
            overflow-x: auto;
            border-bottom: 1px solid var(--border-light);
            display: flex;
            gap: 10px;
            justify-content: center;
            scrollbar-width: none;
        }
        .toc-progress {
            position: sticky;
            top: 46px;
            height: 3px;
            background: rgba(232, 168, 124, 0.15);
            z-index: 99;
        }
        .toc-progress-bar {
            height: 100%;
            width: 0%;
            background: linear-gradient(90deg, var(--accent-primary), var(--accent-secondary));
            transition: width 0.1s linear;
        }
        .toc-scroller::-webkit-scrollbar { display: none; }
        .toc-link {
            color: var(--text-muted);
            text-decoration: none;
            font-size: 0.85rem;
            font-weight: 600;
            padding: 6px 12px;
            border-radius: 20px;
            background: var(--bg-card);
            transition: all 0.2s;
            border: 1px solid var(--border-light);
        }
        .toc-link:hover, .toc-link.active {
            color: #FFFFFF;
            background: var(--accent-primary);
            border-color: var(--accent-primary);
        }
        .toc-link:focus-visible {
            outline: 2px solid #C07A50;
            outline-offset: 2px;
        }

        /* Sections */
        .section-wrapper { padding: 12px 15px 0 15px; scroll-margin-top: 72px; }

        /* Cards */
        .card {
            background-color: var(--bg-card);
            border-radius: var(--border-radius);
            padding: 18px;
            margin-bottom: 12px;
            border: 1px solid var(--border-light);
            box-shadow: var(--shadow-card);
        }
        .card-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 10px;
        }
        .card-title {
            font-size: 1rem;
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .tag {
            font-size: 0.72rem;
            text-transform: uppercase;
            padding: 4px 9px;
            border-radius: 8px;
            font-weight: 700;
            letter-spacing: 0.5px;
        }
        .tag-blue { background: rgba(168, 216, 234, 0.22); color: #5B9BB5; border: 1px solid rgba(168, 216, 234, 0.35); }
        .tag-gold { background: rgba(232, 168, 124, 0.22); color: #C07A50; border: 1px solid rgba(232, 168, 124, 0.35); }
        .tag-red { background: rgba(243, 166, 166, 0.22); color: #C07070; border: 1px solid rgba(243, 166, 166, 0.35); }
        .tag-green { background: rgba(168, 230, 207, 0.22); color: #5DAE8B; border: 1px solid rgba(168, 230, 207, 0.35); }
        .tag-lavender { background: rgba(195, 177, 225, 0.22); color: #8B72B2; border: 1px solid rgba(195, 177, 225, 0.35); }

        /* Typography & Lists */
        p { margin-bottom: 12px; font-size: var(--text-base); color: #555; }
        p:last-child { margin-bottom: 0; }
        h2, h3, h4 { font-size: var(--text-title); margin: 0 0 8px 0; }
        ul.bullet-list { list-style: none; padding: 0; margin: 0; }
        ul.bullet-list li {
            position: relative;
            padding-left: 18px;
            margin-bottom: 8px;
            font-size: var(--text-base);
            color: #4A4A4A;
        }
        ul.bullet-list li::before {
            content: "â€¢";
            position: absolute;
            left: 0;
            color: var(--accent-secondary);
            font-weight: bold;
        }

        /* Weather Card */
        .weather-card {
            background: linear-gradient(135deg, #E8F4FD 0%, #F0EAFF 100%);
            border-radius: var(--border-radius);
            padding: 18px;
            margin-bottom: 12px;
            border: 1px solid #D4E8F0;
            box-shadow: var(--shadow-card);
            position: relative;
        }
        .weather-card .weather-icon-wrap {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 10px;
        }
        .weather-card .weather-icon-wrap svg {
            flex-shrink: 0;
        }
        .weather-card .weather-summary {
            font-size: var(--text-base);
            color: #4A4A4A;
        }
        .weather-card .weather-summary strong {
            color: #3D3D3D;
        }
        .weather-periods {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 8px;
            margin-top: 10px;
        }
        .weather-period {
            background: rgba(255,255,255,0.7);
            border-radius: 10px;
            padding: 12px;
            text-align: center;
            font-size: var(--text-base);
            color: #4A4A4A;
            min-height: 84px;
            line-height: 1.45;
        }
        .weather-period strong {
            display: block;
            font-size: var(--text-small);
            color: var(--text-muted);
            margin-bottom: 4px;
            text-transform: uppercase;
            letter-spacing: 0.3px;
        }

        /* Decision Map Grid */
        .decision-grid {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 8px;
            margin-top: 10px;
        }
        .decision-box {
            background: var(--bg-card-highlight);
            padding: 12px;
            border-radius: 10px;
            text-align: center;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            border: 1px solid var(--border-light);
            min-height: 84px;
            line-height: 1.45;
        }
        .d-icon { font-size: 1.2rem; margin-bottom: 4px; }
        .d-label { font-size: var(--text-small); color: var(--text-muted); font-weight: 600; }
        .d-val { font-size: var(--text-base); font-weight: 700; margin-top: 2px; }
        .d-good { color: var(--accent-success); }
        .d-bad { color: var(--accent-danger); }
        .d-neutral { color: var(--text-muted); }

        /* Finance Pill */
        .ticker-pill {
            display: inline-block;
            background: rgba(232, 168, 124, 0.12);
            border: 1px solid rgba(232, 168, 124, 0.3);
            padding: 2px 8px;
            border-radius: 4px;
            font-family: monospace;
            font-size: var(--text-base);
            color: #C07A50;
            margin-right: 4px;
        }
        ul.finance-list { list-style: none; padding: 0; margin: 0; }
        ul.finance-list li {
            background: rgba(255, 248, 240, 0.6);
            border: 1px solid rgba(232, 223, 212, 0.7);
            border-radius: 10px;
            padding: 10px 12px;
            margin-bottom: 8px;
            font-size: var(--text-base);
            color: #4A4A4A;
        }

        /* Footer */
        .footer {
            text-align: center;
            padding: 20px 15px;
            font-size: var(--text-small);
            color: var(--text-muted);
            border-top: 1px solid var(--border-light);
            margin-top: 12px;
        }
        .data-freshness {
            font-size: 0.75rem;
            color: #9A8E82;
            margin-top: 6px;
        }

        .status-bar {
            background: #F5EDE3;
            color: #9A8E82;
            font-size: 0.72rem;
            text-align: right;
            padding: 5px 10px;
            font-family: monospace;
            border-bottom: 1px solid var(--border-light);
        }
        .source-link {
            color: #8B72B2;
            text-decoration: none;
            border-bottom: 1px solid rgba(139, 114, 178, 0.25);
        }
        .source-link:hover { border-bottom-color: rgba(139, 114, 178, 0.6); }

        /* Responsive: wider on desktop */
        @media (min-width: 768px) {
            .container, .header-graphic { max-width: 600px; }
        }
        @media (min-width: 1024px) {
            .container, .header-graphic { max-width: 680px; }
        }
        @media (max-width: 420px) {
            body { font-size: 0.92rem; }
            .weather-periods { grid-template-columns: 1fr; }
            .decision-grid { grid-template-columns: 1fr; }
            .card { padding: 16px; }
        }
    </style>
</head>
<body>
    <div class="status-bar">SON GÃœNCELLEME: 08:07:36 (Qatar)</div>

    <!-- Header Wrapper to Center on Desktop -->
    <div class="header-wrapper">
        <header class="header-graphic">
            <svg style="position: absolute; top:0; left:0; width:100%; height:100%; opacity: 0.35;" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid slice">
                <circle cx="20" cy="80" r="30" fill="#A8D8EA" />
                <circle cx="80" cy="20" r="40" fill="#E8A87C" />
                <circle cx="60" cy="70" r="20" fill="#C3B1E1" />
                <path d="M0,50 Q50,0 100,50 T200,50" stroke="#A8E6CF" stroke-width="0.5" fill="none" />
            </svg>
            <div class="header-content">
                <div class="date-badge">ğŸ“… 30 Ocak 2026, Cuma</div>
                <h1>GÃ¼naydÄ±n, Fatih.</h1>
                <div style="font-size: var(--text-small); color: #7A7A7A; margin-top:4px;">ğŸ“ Doha, Katar</div>
            </div>
        </header>
    </div>

    <!-- Navigation -->
    <nav class="toc-scroller">
        <a href="#odak" class="toc-link">Odak</a>
        <a href="#hava" class="toc-link">Hava</a>
        <a href="#astro" class="toc-link">Astro</a>
        <a href="#karar" class="toc-link">Karar</a>
        <a href="#is" class="toc-link">Ä°ÅŸ</a>
        <a href="#finans" class="toc-link">Finans</a>
    </nav>
    <div class="toc-progress"><div class="toc-progress-bar" id="tocProgress"></div></div>

    <!-- Mood Band - decorative gradient strip -->
    <div class="mood-band"></div>

    <div class="container">
        <!-- AI GENERATED CONTENT INJECTED HERE -->
        <div class="section-wrapper" id="odak">
    <div class="card" style="border-left: 4px solid var(--accent-primary);">
        <p style="font-size:1.1rem; font-weight:600;">"GÃ¼neÅŸin sÄ±caklÄ±ÄŸÄ±yla aydÄ±nlan, Ay'Ä±n dinginliÄŸiyle dengele, yÄ±ldÄ±zlarÄ±n rehberliÄŸinde ilerle."</p>
        <p style="font-size:0.9rem; color:#7A7A7A;">Hedefle. Ä°lerle. BaÅŸar.</p>
    </div>
    <p style="font-size:0.95rem; margin-top: 10px;">DÃ¼n biraz iÃ§e dÃ¶nÃ¼ktÃ¼n, bugÃ¼nse enerjin yÃ¼kseliyor Fatih. YaratÄ±cÄ±lÄ±ÄŸÄ±nÄ± ve liderlik vasÄ±flarÄ±nÄ± ortaya Ã§Ä±karma zamanÄ±.</p>
</div>

<div class="section-wrapper" id="hava">
    <div class="weather-card">
        <div class="weather-icon-wrap">
            <svg width="52" height="52" viewbox="0 0 52 52" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="26" cy="26" r="12" fill="#F6D87E" stroke="#E8A87C" stroke-width="2"></circle><g stroke="#E8A87C" stroke-width="2" stroke-linecap="round"><line x1="26" y1="4" x2="26" y2="10"></line><line x1="26" y1="42" x2="26" y2="48"></line><line x1="4" y1="26" x2="10" y2="26"></line><line x1="42" y1="26" x2="48" y2="26"></line><line x1="10.4" y1="10.4" x2="14.6" y2="14.6"></line><line x1="37.4" y1="37.4" x2="41.6" y2="41.6"></line><line x1="10.4" y1="41.6" x2="14.6" y2="37.4"></line><line x1="37.4" y1="14.6" x2="41.6" y2="10.4"></line></g></svg>
            <div class="weather-summary">GÃ¼neÅŸli ve az bulutlu bir gÃ¼n.</div>
        </div>
        <div class="weather-periods">
            <div class="weather-period"><strong>Sabah</strong> 14-16Â°C, az bulutlu.</div>
            <div class="weather-period"><strong>Ã–ÄŸle</strong> 21-22Â°C, az bulutlu.</div>
            <div class="weather-period"><strong>AkÅŸam</strong> 18-16Â°C, aÃ§Ä±k.</div>
        </div>
        <p style="margin-top:8px; font-size:0.8rem; color:#7A7A7A;">Veri zamanÄ±: 30.01.2026 08:07</p>
        <p style="margin-top:8px;"><em>Ne giymeliyim: Hafif bir ceket veya hÄ±rka, Ã¶zellikle sabah ve akÅŸam saatlerinde Ã¼ÅŸÃ¼memek iÃ§in yanÄ±nÄ±zda bulundurun. <span class="tag tag-blue">KatmanlÄ± giyim</span> ideal.</em></p>
    </div>
</div>

<div class="section-wrapper" id="astro">
    <p style="font-size:0.95rem;">GÃ¼naydÄ±n Fatih! BugÃ¼n, GÃ¼neÅŸ'in <span class="tag tag-blue">Kova</span> burcundaki transitleri, senin YÃ¼kselen Aslan'Ä±nla uyumlu bir ÅŸekilde parlÄ±yor. PlÃ¼ton'un da Kova'da olmasÄ±, uzun vadeli hedeflerin ve toplumsal rolÃ¼n Ã¼zerinde dÃ¶nÃ¼ÅŸtÃ¼rÃ¼cÃ¼ bir etki yaratma potansiyeli taÅŸÄ±yor. AynÄ± zamanda natal Ä°kizler GÃ¼neÅŸ'ine de olumlu aÃ§Ä±lar yapÄ±yor, bu da iletiÅŸim ve Ã¶ÄŸrenme konularÄ±nda seni destekliyor. Ancak, JÃ¼piter'in YengeÃ§ burcundaki retrograd hareketi, duygusal konularda bazÄ± gecikmelere veya iÃ§ gÃ¶zleme neden olabilir.</p>

    <p style="font-size:0.95rem;">Ay'Ä±n YengeÃ§ burcundaki konumu, duygusal ihtiyaÃ§larÄ±nÄ± ve ailevi konularÄ± Ã¶n plana Ã§Ä±karabilir. VenÃ¼s ve MerkÃ¼r'Ã¼n Kova burcundaki birlikteliÄŸi, sosyal Ã§evrenle olan iliÅŸkilerini canlandÄ±rÄ±rken, zihinsel olarak da daha Ã¶zgÃ¼r ve yenilikÃ§i olmanÄ± saÄŸlÄ±yor. Bu dÃ¶nemde, yaratÄ±cÄ± projeler Ã¼zerinde Ã§alÄ±ÅŸmak veya yeni fikirler geliÅŸtirmek iÃ§in uygun bir zaman dilimi olabilir.</p>

    <p style="font-size:0.95rem;">Ä°ÅŸ ve finans alanÄ±nda, Kova burcundaki Mars, cesur ve yenilikÃ§i adÄ±mlar atmanÄ± teÅŸvik ediyor. Ancak, SatÃ¼rn'Ã¼n BalÄ±k burcundaki konumu, bazÄ± sÄ±nÄ±rlamalar ve sorumluluklar getirebilir. Bu nedenle, risk alÄ±rken dikkatli olman ve uzun vadeli planlarÄ±nÄ± gÃ¶zden geÃ§irmen Ã¶nemlidir. Ã–zellikle YMAG, TQQQ, GLDW gibi yasaklÄ± listendeki hisselerden uzak durmak akÄ±llÄ±ca olacaktÄ±r.</p>

    <p style="font-size:0.95rem;">BugÃ¼n, iÃ§ sesini dinle ve sezgilerine gÃ¼ven. Sosyal Ã§evrenle iletiÅŸim kurmaktan Ã§ekinme, ancak aynÄ± zamanda kendi sÄ±nÄ±rlarÄ±nÄ± da koru. YaratÄ±cÄ±lÄ±ÄŸÄ±nÄ± serbest bÄ±rak ve yeni projelere baÅŸlama konusunda cesur ol.

    <ul class="bullet-list">
        <li><span class="tag tag-green">YaratÄ±cÄ±lÄ±k</span> ve <span class="tag tag-gold">ilham</span> kaynaklarÄ±nÄ± keÅŸfet.</li>
        <li><span class="tag tag-red">Riskli</span> yatÄ±rÄ±mlardan kaÃ§Ä±n.</li>
        <li><span class="tag tag-blue">Sosyal</span> Ã§evrenle etkileÅŸimde bulun.</li>
    </ul>

    <div class="card" style="background: #EDE7F6;">
        <p style="font-size:0.9rem;"><strong>Astro-BiliÅŸsel UyarÄ±:</strong> BugÃ¼n, UranÃ¼s'Ã¼n BoÄŸa burcundaki retrograd hareketi, beklenmedik deÄŸiÅŸikliklere ve sÃ¼rprizlere karÅŸÄ± hazÄ±rlÄ±klÄ± olmanÄ± gerektirebilir. Esnek ol ve ani kararlar vermekten kaÃ§Ä±n.</p>
    </div>

    <p style="font-size:0.95rem; margin-top: 15px;"><strong>GÃ¼nÃ¼n Astroloji KaynaklarÄ±:</strong>
        <a href="https://www.instagram.com/handekazanova/" target="_blank">Hande Kazanova</a> |
        <a href="https://www.youtube.com/channel/UCe5FpvalDw47kRWNxVVlRjQ" target="_blank">DinÃ§er GÃ¼ner</a> |
        <a href="https://www.instagram.com/onerdoser/" target="_blank">Ã–ner DÃ¶ÅŸer</a> |
        <a href="https://www.instagram.com/astrotwins/" target="_blank">The AstroTwins</a> |
        <a href="https://www.instagram.com/chaninicholas/" target="_blank">Chani Nicholas</a>
    </p>

    <p style="font-size:0.95rem;"><strong>Okuma Ã–nerisi:</strong> "Astroloji: Kendini Bil" - Hande Kazanova</p>
</div>

<div class="section-wrapper" id="karar">
    <div class="decision-grid">
        <div class="decision-box">
            <span style="font-size:1.5rem;">ğŸŒŸ</span><br><strong>EN Ä°YÄ°</strong><br>YaratÄ±cÄ± projeler, sosyal etkinlikler.
        </div>
        <div class="decision-box">
            <span style="font-size:1.5rem;">âš–ï¸</span><br><strong>NÃ–TR</strong><br>Ailevi konular, duygusal kararlar.
        </div>
        <div class="decision-box">
            <span style="font-size:1.5rem;">âš ï¸</span><br><strong>KAÃ‡IN</strong><br>Riskli yatÄ±rÄ±mlar, ani kararlar.
        </div>
    </div>
</div>

<div class="section-wrapper" id="is">
    <ul class="bullet-list">
        <li>YÃ¼kselen Aslan enerjinle liderlik vasÄ±flarÄ±nÄ± Ã¶n plana Ã§Ä±kar, ekibini motive et.</li>
        <li>Ä°kizler zekan sayesinde iletiÅŸim becerilerini kullanarak iÅŸbirlikleri kur.</li>
        <li>Kova transitleri, yenilikÃ§i fikirlerini hayata geÃ§irmek iÃ§in uygun bir zaman olduÄŸunu gÃ¶steriyor.</li>
        <li>SatÃ¼rn'Ã¼n etkisiyle, projelerini planlarken gerÃ§ekÃ§i ve disiplinli olmaya Ã¶zen gÃ¶ster.</li>
    </ul>
</div>

<div class="section-wrapper" id="finans">
    <p style="font-size:0.8rem; color:#7A7A7A;">Veri zamanÄ±: 30.01.2026 08:07 (Asia/Qatar) â€” Piyasa kapalÄ± (saat dÄ±ÅŸÄ±)</p>
    <ul class="finance-list">
        <li><span class="ticker-pill">QQQI</span>: $54.33 (-0.31%) â€” Teknolojiye odaklan, ancak dÃ¼ÅŸÃ¼ÅŸe dikkat et.</li>
        <li><span class="ticker-pill">FDVV</span>: $58.13 (+0.10%) â€” DeÄŸerli hisseler istikrarlÄ±, tutmaya devam.</li>
        <li><span class="ticker-pill">SCHD</span>: $29.37 (+0.24%) â€” TemettÃ¼ getirisi iyi, uzun vadeli yatÄ±rÄ±m iÃ§in uygun.</li>
        <li><span class="ticker-pill">SCHG</span>: $32.24 (-0.77%) â€” BÃ¼yÃ¼me potansiyeli var, ama dÃ¼ÅŸÃ¼ÅŸÃ¼ izle.</li>
        <li><span class="ticker-pill">IAUI</span>: $62.69 (-0.22%) â€” AltÄ±n gÃ¼venli liman, portfÃ¶yde tutmaya devam.</li>
        <li><span class="ticker-pill">SLV</span>: $105.57 (-0.03%) â€” GÃ¼mÃ¼ÅŸ yÃ¼kseliÅŸe geÃ§ti, dikkatle takip et.</li>
    </ul>
</div>

<div class="section-wrapper">
    <p style="font-size:0.95rem;"><strong>TEK SORU:</strong> BugÃ¼n, potansiyelini tam olarak kullanmak iÃ§in hangi adÄ±mÄ± atmaya hazÄ±rsÄ±n?</p>
</div>
        
        <!-- Footer -->
        <div class="footer">
            <p>Okuma sÃ¼resi: ~2.5 dk</p>
            <p class="data-freshness">Veri tazeliÄŸi: Hava 30.01.2026 08:07 â€” Finans 28.01.2026 19:00 (Piyasa kapalÄ± (saat dÄ±ÅŸÄ±))</p>
            <p style="opacity: 0.5;">Â© 2026 Morning Brief - Fatih</p>
        </div>
    </div>
    <script>
        const tocLinks = Array.from(document.querySelectorAll(".toc-link"));
        const sections = tocLinks.map(link => document.querySelector(link.getAttribute("href")));
        const progressBar = document.getElementById("tocProgress");

        const setActive = (id) => {
            tocLinks.forEach(link => link.classList.toggle("active", link.getAttribute("href") === ("#" + id)));
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) setActive(entry.target.id);
            });
        }, { rootMargin: "-40% 0px -50% 0px", threshold: 0 });

        sections.forEach(section => section && observer.observe(section));

        const onScroll = () => {
            const doc = document.documentElement;
            const scrollTop = doc.scrollTop || document.body.scrollTop;
            const scrollHeight = doc.scrollHeight - doc.clientHeight;
            const pct = scrollHeight > 0 ? (scrollTop / scrollHeight) * 100 : 0;
            if (progressBar) progressBar.style.width = pct + "%";
        };
        document.addEventListener("scroll", onScroll, { passive: true });
        onScroll();
    </script>
</body>
</html>
