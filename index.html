
<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <!-- CACHE BUSTING -->
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <title>Morning Brief | Fatih</title>
    <style>
        :root {
            --bg-body: #FDF6EC; --bg-card: #FFFFFF; --bg-card-highlight: #FFF8F0;
            --text-main: #3D3D3D; --text-muted: #7A7A7A;
            --accent-primary: #E8A87C; --accent-secondary: #A8D8EA;
            --accent-danger: #F3A6A6; --accent-success: #A8E6CF;
            --accent-lavender: #C3B1E1;
            --border-radius: 16px;
            --font-stack: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            --shadow-card: 0 6px 18px rgba(31, 25, 10, 0.08);
            --border-light: #EDE3D7;
            --text-base: 0.95rem;
            --text-small: 0.8rem;
            --text-title: 1.15rem;
            --text-hero: 1.9rem;
        }

        /* Reset & Base */
        * { box-sizing: border-box; outline: none; -webkit-tap-highlight-color: transparent; }
        body {
            background-color: var(--bg-body);
            color: var(--text-main);
            font-family: var(--font-stack);
            margin: 0;
            padding: 0;
            line-height: 1.65;
            font-size: var(--text-base);
            min-height: 100vh;
        }

        /* Layout Container */
        .container {
            max-width: 480px;
            margin: 0 auto;
            padding: 0 0 24px 0;
        }

        /* Header Graphic - RESPONSIVE */
        .header-wrapper {
            background-color: var(--bg-body);
            width: 100%;
            display: flex;
            justify-content: center;
        }

        .header-graphic {
            width: 100%;
            max-width: 480px;
            height: 180px;
            background: linear-gradient(135deg, #FFF1E6 0%, #E8F4FD 50%, #F3E8FF 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
            border-bottom: 1px solid var(--border-light);
            border-radius: 0 0 24px 24px;
        }

        .header-content {
            position: absolute;
            bottom: 18px;
            left: 15px;
            z-index: 2;
        }
        .date-badge {
            background: rgba(232, 168, 124, 0.15);
            backdrop-filter: blur(10px);
            padding: 5px 10px;
            border-radius: 8px;
            font-size: var(--text-small);
            color: #C07A50;
            font-weight: 600;
            display: inline-block;
            margin-bottom: 5px;
        }
        h1 { margin: 0; font-size: var(--text-hero); font-weight: 800; letter-spacing: -0.6px; color: #3D3D3D; }

        /* Mood Band - thin decorative strip */
        .mood-band {
            height: 6px;
            width: 100%;
            background: linear-gradient(90deg, var(--accent-lavender) 0%, var(--accent-secondary) 35%, var(--accent-success) 65%, var(--accent-primary) 100%);
            margin: 0;
            border: none;
        }

        /* Navigation (TOC) */
        .toc-scroller {
            position: sticky;
            top: 0;
            background: rgba(253, 246, 236, 0.95);
            backdrop-filter: blur(10px);
            z-index: 100;
            padding: 10px 0;
            white-space: nowrap;
            overflow-x: auto;
            border-bottom: 1px solid var(--border-light);
            display: flex;
            gap: 10px;
            justify-content: center;
            scrollbar-width: none;
        }
        .toc-progress {
            position: sticky;
            top: 46px;
            height: 3px;
            background: rgba(232, 168, 124, 0.15);
            z-index: 99;
        }
        .toc-progress-bar {
            height: 100%;
            width: 0%;
            background: linear-gradient(90deg, var(--accent-primary), var(--accent-secondary));
            transition: width 0.1s linear;
        }
        .toc-scroller::-webkit-scrollbar { display: none; }
        .toc-link {
            color: var(--text-muted);
            text-decoration: none;
            font-size: 0.85rem;
            font-weight: 600;
            padding: 6px 12px;
            border-radius: 20px;
            background: var(--bg-card);
            transition: all 0.2s;
            border: 1px solid var(--border-light);
        }
        .toc-link:hover, .toc-link.active {
            color: #FFFFFF;
            background: var(--accent-primary);
            border-color: var(--accent-primary);
        }
        .toc-link:focus-visible {
            outline: 2px solid #C07A50;
            outline-offset: 2px;
        }

        /* Sections */
        .section-wrapper { padding: 12px 15px 0 15px; scroll-margin-top: 72px; }

        /* Cards */
        .card {
            background-color: var(--bg-card);
            border-radius: var(--border-radius);
            padding: 18px;
            margin-bottom: 12px;
            border: 1px solid var(--border-light);
            box-shadow: var(--shadow-card);
        }
        .card-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 10px;
        }
        .card-title {
            font-size: 1rem;
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .tag {
            font-size: 0.72rem;
            text-transform: uppercase;
            padding: 4px 9px;
            border-radius: 8px;
            font-weight: 700;
            letter-spacing: 0.5px;
        }
        .tag-blue { background: rgba(168, 216, 234, 0.22); color: #5B9BB5; border: 1px solid rgba(168, 216, 234, 0.35); }
        .tag-gold { background: rgba(232, 168, 124, 0.22); color: #C07A50; border: 1px solid rgba(232, 168, 124, 0.35); }
        .tag-red { background: rgba(243, 166, 166, 0.22); color: #C07070; border: 1px solid rgba(243, 166, 166, 0.35); }
        .tag-green { background: rgba(168, 230, 207, 0.22); color: #5DAE8B; border: 1px solid rgba(168, 230, 207, 0.35); }
        .tag-lavender { background: rgba(195, 177, 225, 0.22); color: #8B72B2; border: 1px solid rgba(195, 177, 225, 0.35); }

        /* Typography & Lists */
        p { margin-bottom: 12px; font-size: var(--text-base); color: #555; }
        p:last-child { margin-bottom: 0; }
        h2, h3, h4 { font-size: var(--text-title); margin: 0 0 8px 0; }
        ul.bullet-list { list-style: none; padding: 0; margin: 0; }
        ul.bullet-list li {
            position: relative;
            padding-left: 18px;
            margin-bottom: 8px;
            font-size: var(--text-base);
            color: #4A4A4A;
        }
        ul.bullet-list li::before {
            content: "â€¢";
            position: absolute;
            left: 0;
            color: var(--accent-secondary);
            font-weight: bold;
        }

        /* Weather Card */
        .weather-card {
            background: linear-gradient(135deg, #E8F4FD 0%, #F0EAFF 100%);
            border-radius: var(--border-radius);
            padding: 18px;
            margin-bottom: 12px;
            border: 1px solid #D4E8F0;
            box-shadow: var(--shadow-card);
            position: relative;
        }
        .weather-card .weather-icon-wrap {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 10px;
        }
        .weather-card .weather-icon-wrap svg {
            flex-shrink: 0;
        }
        .weather-card .weather-summary {
            font-size: var(--text-base);
            color: #4A4A4A;
        }
        .weather-card .weather-summary strong {
            color: #3D3D3D;
        }
        .weather-periods {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 8px;
            margin-top: 10px;
        }
        .weather-period {
            background: rgba(255,255,255,0.7);
            border-radius: 10px;
            padding: 12px;
            text-align: center;
            font-size: var(--text-base);
            color: #4A4A4A;
            min-height: 84px;
            line-height: 1.45;
        }
        .weather-period strong {
            display: block;
            font-size: var(--text-small);
            color: var(--text-muted);
            margin-bottom: 4px;
            text-transform: uppercase;
            letter-spacing: 0.3px;
        }

        /* Decision Map Grid */
        .decision-grid {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 8px;
            margin-top: 10px;
        }
        .decision-box {
            background: var(--bg-card-highlight);
            padding: 12px;
            border-radius: 10px;
            text-align: center;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            border: 1px solid var(--border-light);
            min-height: 84px;
            line-height: 1.45;
        }
        .d-icon { font-size: 1.2rem; margin-bottom: 4px; }
        .d-label { font-size: var(--text-small); color: var(--text-muted); font-weight: 600; }
        .d-val { font-size: var(--text-base); font-weight: 700; margin-top: 2px; }
        .d-good { color: var(--accent-success); }
        .d-bad { color: var(--accent-danger); }
        .d-neutral { color: var(--text-muted); }

        /* Finance Pill */
        .ticker-pill {
            display: inline-block;
            background: rgba(232, 168, 124, 0.12);
            border: 1px solid rgba(232, 168, 124, 0.3);
            padding: 2px 8px;
            border-radius: 4px;
            font-family: monospace;
            font-size: var(--text-base);
            color: #C07A50;
            margin-right: 4px;
        }
        ul.finance-list { list-style: none; padding: 0; margin: 0; }
        ul.finance-list li {
            background: rgba(255, 248, 240, 0.6);
            border: 1px solid rgba(232, 223, 212, 0.7);
            border-radius: 10px;
            padding: 10px 12px;
            margin-bottom: 8px;
            font-size: var(--text-base);
            color: #4A4A4A;
        }

        /* Footer */
        .footer {
            text-align: center;
            padding: 20px 15px;
            font-size: var(--text-small);
            color: var(--text-muted);
            border-top: 1px solid var(--border-light);
            margin-top: 12px;
        }
        .data-freshness {
            font-size: 0.75rem;
            color: #9A8E82;
            margin-top: 6px;
        }

        .status-bar {
            background: #F5EDE3;
            color: #9A8E82;
            font-size: 0.72rem;
            text-align: right;
            padding: 5px 10px;
            font-family: monospace;
            border-bottom: 1px solid var(--border-light);
        }
        .source-link {
            color: #8B72B2;
            text-decoration: none;
            border-bottom: 1px solid rgba(139, 114, 178, 0.25);
        }
        .source-link:hover { border-bottom-color: rgba(139, 114, 178, 0.6); }

        /* Responsive: wider on desktop */
        @media (min-width: 768px) {
            .container, .header-graphic { max-width: 600px; }
        }
        @media (min-width: 1024px) {
            .container, .header-graphic { max-width: 680px; }
        }
        @media (max-width: 420px) {
            body { font-size: 0.92rem; }
            .weather-periods { grid-template-columns: 1fr; }
            .decision-grid { grid-template-columns: 1fr; }
            .card { padding: 16px; }
        }
    </style>
</head>
<body>
    <div class="status-bar">SON GÃœNCELLEME: 08:21:59 (Qatar)</div>

    <!-- Header Wrapper to Center on Desktop -->
    <div class="header-wrapper">
        <header class="header-graphic">
            <svg style="position: absolute; top:0; left:0; width:100%; height:100%; opacity: 0.35;" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid slice">
                <circle cx="20" cy="80" r="30" fill="#A8D8EA" />
                <circle cx="80" cy="20" r="40" fill="#E8A87C" />
                <circle cx="60" cy="70" r="20" fill="#C3B1E1" />
                <path d="M0,50 Q50,0 100,50 T200,50" stroke="#A8E6CF" stroke-width="0.5" fill="none" />
            </svg>
            <div class="header-content">
                <div class="date-badge">ğŸ“… 18 Åubat 2026, Ã‡arÅŸamba</div>
                <h1>GÃ¼naydÄ±n, Fatih.</h1>
                <div style="font-size: var(--text-small); color: #7A7A7A; margin-top:4px;">ğŸ“ Doha, Katar</div>
            </div>
        </header>
    </div>

    <!-- Navigation -->
    <nav class="toc-scroller">
        <a href="#odak" class="toc-link">Odak</a>
        <a href="#hava" class="toc-link">Hava</a>
        <a href="#astro" class="toc-link">Astro</a>
        <a href="#karar" class="toc-link">Karar</a>
        <a href="#is" class="toc-link">Ä°ÅŸ</a>
        <a href="#finans" class="toc-link">Finans</a>
    </nav>
    <div class="toc-progress"><div class="toc-progress-bar" id="tocProgress"></div></div>

    <!-- Mood Band - decorative gradient strip -->
    <div class="mood-band"></div>

    <div class="container">
        <!-- AI GENERATED CONTENT INJECTED HERE -->
        <div class="section-wrapper" id="odak">
    <div class="card" style="border-left: 4px solid var(--accent-primary);">
        <p style="font-size: 1.1rem; font-weight: 500;">"Kendini bil, evreni bileceksin."</p>
        <p style="font-size: 0.9rem; color: #555;">3 Kelime KuralÄ±: **Ä°fade, Uyum, YaratÄ±cÄ±lÄ±k**</p>
    </div>
    <p style="margin-top: 8px; font-size: 0.95rem;">DÃ¼n Kova enerjisiyle zihinsel odaklanma Ã¶n plandaydÄ±, bugÃ¼n ise BalÄ±k etkisiyle daha duygusal ve sezgisel bir gÃ¼ne geÃ§iyoruz. Ä°Ã§ sesine kulak ver!</p>
</div>

<div class="section-wrapper" id="hava">
    <div class="weather-card">
        <div class="weather-icon-wrap">
            <svg width="52" height="52" viewbox="0 0 52 52" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="26" cy="26" r="12" fill="#F6D87E" stroke="#E8A87C" stroke-width="2"></circle><g stroke="#E8A87C" stroke-width="2" stroke-linecap="round"><line x1="26" y1="4" x2="26" y2="10"></line><line x1="26" y1="42" x2="26" y2="48"></line><line x1="4" y1="26" x2="10" y2="26"></line><line x1="42" y1="26" x2="48" y2="26"></line><line x1="10.4" y1="10.4" x2="14.6" y2="14.6"></line><line x1="37.4" y1="37.4" x2="41.6" y2="41.6"></line><line x1="10.4" y1="41.6" x2="14.6" y2="37.4"></line><line x1="37.4" y1="14.6" x2="41.6" y2="10.4"></line></g></svg>
            <div class="weather-summary">Doha'da bugÃ¼n aÃ§Ä±k ve gÃ¼neÅŸli bir gÃ¼n. SÄ±caklÄ±k 14Â°C ile 28Â°C arasÄ±nda deÄŸiÅŸecek. Nem oranÄ± dÃ¼ÅŸÃ¼k, rÃ¼zgar hafif esiyor.</div>
        </div>
        <div class="weather-periods">
            <div class="weather-period"><strong>Sabah</strong> 14-20Â°C, aÃ§Ä±k ve gÃ¼neÅŸli <span class="tag tag-blue">Hafif Serin</span></div>
            <div class="weather-period"><strong>Ã–ÄŸle</strong> 27-28Â°C, aÃ§Ä±k ve gÃ¼neÅŸli <span class="tag tag-blue">SÄ±cak</span></div>
            <div class="weather-period"><strong>AkÅŸam</strong> 21-23Â°C, aÃ§Ä±k <span class="tag tag-blue">IlÄ±k</span></div>
        </div>
        <p style="margin-top:8px; font-size:0.8rem; color:#7A7A7A;">Veri zamanÄ±: 18.02.2026 08:22</p>
        <p style="margin-top:8px;"><em>Ne giymeliyim: Sabah ve akÅŸam iÃ§in ince bir ceket veya hÄ±rka bulundurmakta fayda var. Ã–ÄŸlenleri ise rahat ve serin tutan kÄ±yafetler tercih etmelisin.</em></p>
    </div>
</div>

<div class="section-wrapper" id="astro">
    <p style="font-size: 0.95rem;">GÃ¼naydÄ±n Fatih! YÃ¼kselen Aslan'Ä±nla sahne senin! BugÃ¼n Ay BalÄ±k burcunda ilerlerken, Kova burcundaki GÃ¼neÅŸ, Mars ve PlÃ¼ton ile KoÃ§'taki SatÃ¼rn ve NeptÃ¼n, Ä°kizler GÃ¼neÅŸ'inle farklÄ± aÃ§Ä±lardan etkileÅŸimde. JÃ¼piter'in YengeÃ§ burcundaki retro hareketi ise geÃ§miÅŸten gelen konularÄ± gÃ¼ndeme getirebilir.</p>

    <p style="font-size: 0.95rem;">BalÄ±k AyÄ±, senin Terazi Ay'Ä±nla uyumlu bir akÄ±ÅŸ yaratÄ±rken, iliÅŸkilerde empati ve anlayÄ±ÅŸ Ã¶n planda olacak. MerkÃ¼r ve VenÃ¼s'Ã¼n de BalÄ±k burcunda olmasÄ±, iletiÅŸimde daha yumuÅŸak ve duygusal bir dil kullanmanÄ± saÄŸlayabilir. Ancak, Kova'daki gezegen yoÄŸunluÄŸu, YengeÃ§'teki VenÃ¼s ve Mars'Ä±nla kare aÃ§Ä± oluÅŸturarak, duygusal konularda bazÄ± gerginliklere neden olabilir. Bu dÃ¶nemde, mantÄ±k ve duyguyu dengelemek Ã¶nemli olacak.</p>

    <p style="font-size: 0.95rem;">Ä°ÅŸ hayatÄ±nda, Kova burcundaki GÃ¼neÅŸ ve Mars'Ä±n enerjisi, yenilikÃ§i projeler ve fikirler Ã¼retmek iÃ§in seni destekliyor. Ancak, SatÃ¼rn ve NeptÃ¼n'Ã¼n KoÃ§ burcundaki konumu, hedeflerine ulaÅŸmak iÃ§in sabÄ±rlÄ± ve kararlÄ± olman gerektiÄŸini hatÄ±rlatÄ±yor. JÃ¼piter'in retro hareketi, finansal konularda dikkatli olmanÄ± ve riskli yatÄ±rÄ±mlardan kaÃ§Ä±nmanÄ± Ã¶neriyor. <span class="tag tag-gold">Denge</span>, <span class="tag tag-green">sabÄ±r</span> ve <span class="tag tag-blue">vizyon</span> bu dÃ¶nemin anahtarlarÄ±.</p>

    <p style="font-size: 0.95rem;">BugÃ¼n, sezgilerine gÃ¼venerek hareket et, ancak kararlarÄ±nÄ± mantÄ±k sÃ¼zgecinden geÃ§irmeyi unutma. YaratÄ±cÄ± projelerine odaklanmak ve sevdiklerinle vakit geÃ§irmek, enerjini yÃ¼kseltecektir. <span class="tag tag-lavender">Meditasyon</span> ve <span class="tag tag-lavender">yoga</span> gibi aktiviteler, iÃ§ huzurunu bulmana yardÄ±mcÄ± olabilir.</p>

    <div class="card" style="background: #EDE7F6;">
        <p style="font-size: 0.95rem;"><strong>Astro-BiliÅŸsel UyarÄ±:</strong> Duygusal tepkilerini kontrol etmeye Ã§alÄ±ÅŸ. Empati yeteneÄŸini kullan ama gerÃ§ekÃ§i olmayÄ± da ihmal etme. Kendi deÄŸerini bilerek hareket et.</p>
    </div>

    <ul>
        <li>YenilikÃ§i projeler iÃ§in fikir Ã¼ret, ancak aceleci davranma.</li>
        <li>Ä°letiÅŸimde yumuÅŸak bir dil kullan, ama net olmaktan Ã§ekinme.</li>
        <li>Finansal kararlar alÄ±rken riskleri gÃ¶z Ã¶nÃ¼nde bulundur.</li>
    </ul>

    <p style="margin-top: 12px; font-size: 0.95rem;"><strong>GÃ¼nÃ¼n Astroloji KaynaklarÄ±:</strong><br>
      <a href="https://www.youtube.com/channel/UCe5FpvalDw47kRWNxVVlRjQ" target="_blank">DinÃ§er GÃ¼ner (YouTube)</a><br>
      <a href="https://www.instagram.com/handekazanova/" target="_blank">Hande Kazanova (Instagram)</a><br>
      <a href="https://www.youtube.com/@canaydogmus" target="_blank">Can AydoÄŸmuÅŸ (YouTube)</a><br>
      <a href="https://www.instagram.com/chaninicholas/" target="_blank">Chani Nicholas (Instagram)</a><br>
      <a href="https://astrostyle.com/" target="_blank">The AstroTwins</a>
    </p>

    <p style="margin-top: 12px; font-size: 0.95rem;"><strong>Okuma Ã–nerisi:</strong> "YÃ¼kselen Burcunuzu TanÄ±yÄ±n" - Ã–ner DÃ¶ÅŸer</p>
</div>

<div class="section-wrapper" id="karar">
    <div class="decision-grid">
        <div class="decision-box">âœ… <strong>EN Ä°YÄ°:</strong> YaratÄ±cÄ± projeler, sanatsal faaliyetler.</div>
        <div class="decision-box">ğŸ˜ <strong>NÃ–TR:</strong> Rutin iÅŸler, sosyal etkileÅŸimler.</div>
        <div class="decision-box">âŒ <strong>KAÃ‡IN:</strong> Riskli finansal yatÄ±rÄ±mlar, ani duygusal tepkiler.</div>
    </div>
</div>

<div class="section-wrapper" id="is">
    <ul class="bullet-list">
        <li>YÃ¼kselen Aslan'Ä±n liderlik Ã¶zelliklerini kullanarak ekibini motive et.</li>
        <li>Ä°kizler zekanÄ± kullanarak problem Ã§Ã¶zme becerilerini sergile.</li>
        <li>BugÃ¼n, iletiÅŸim becerilerini kullanarak Ã¶nemli anlaÅŸmalar yapabilirsin.</li>
        <li>Kova enerjisiyle yenilikÃ§i fikirler Ã¼retmek iÃ§in uygun bir gÃ¼n.</li>
    </ul>
</div>

<div class="section-wrapper" id="finans">
    <p style="font-size: 0.8rem; color: #7A7A7A;">Veri zamanÄ±: 16.02.2026 19:00 (US/Eastern) â€” Piyasa kapalÄ± (saat dÄ±ÅŸÄ±)</p>
    <ul class="finance-list">
        <li><span class="ticker-pill">QQQI</span>: $52.47 (-0.02%) â€” Dikkatli ol, dÃ¼ÅŸÃ¼ÅŸ trendi devam ediyor gibi.</li>
        <li><span class="ticker-pill">FDVV</span>: $59.19 (+0.14%) â€” Hafif yÃ¼kseliÅŸ, pozisyonunu koruyabilirsin.</li>
        <li><span class="ticker-pill">SCHD</span>: $31.42 (-0.60%) â€” DÃ¼ÅŸÃ¼ÅŸ trendinde, stop-loss seviyeni gÃ¶zden geÃ§ir.</li>
        <li><span class="ticker-pill">SCHG</span>: $30.53 (+0.33%) â€” YÃ¼kseliÅŸ potansiyeli var, takip etmeye devam.</li>
        <li><span class="ticker-pill">IAUI</span>: $60.54 (-2.61%) â€” AltÄ±n dÃ¼ÅŸÃ¼ÅŸte, portfÃ¶yÃ¼nÃ¼ dengelemek iÃ§in azaltabilirsin.</li>
        <li><span class="ticker-pill">SLV</span>: $66.37 (-4.80%) â€” GÃ¼mÃ¼ÅŸ sert dÃ¼ÅŸÃ¼ÅŸte, dikkatli ol!</li>
    </ul>
</div>

<div class="section-wrapper">
    <p style="font-size: 0.95rem;"><strong>TEK SORU:</strong> BugÃ¼n, iÃ§ sesini dinleyerek hangi yaratÄ±cÄ± projeye odaklanacaksÄ±n?</p>
</div>
        
        <!-- Footer -->
        <div class="footer">
            <p>Okuma sÃ¼resi: ~2.5 dk</p>
            <p class="data-freshness">Veri tazeliÄŸi: Hava 18.02.2026 08:22 â€” Finans 16.02.2026 19:00 (Piyasa kapalÄ± (saat dÄ±ÅŸÄ±))</p>
            <p style="opacity: 0.5;">Â© 2026 Morning Brief - Fatih</p>
        </div>
    </div>
    <script>
        const tocLinks = Array.from(document.querySelectorAll(".toc-link"));
        const sections = tocLinks.map(link => document.querySelector(link.getAttribute("href")));
        const progressBar = document.getElementById("tocProgress");

        const setActive = (id) => {
            tocLinks.forEach(link => link.classList.toggle("active", link.getAttribute("href") === ("#" + id)));
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) setActive(entry.target.id);
            });
        }, { rootMargin: "-40% 0px -50% 0px", threshold: 0 });

        sections.forEach(section => section && observer.observe(section));

        const onScroll = () => {
            const doc = document.documentElement;
            const scrollTop = doc.scrollTop || document.body.scrollTop;
            const scrollHeight = doc.scrollHeight - doc.clientHeight;
            const pct = scrollHeight > 0 ? (scrollTop / scrollHeight) * 100 : 0;
            if (progressBar) progressBar.style.width = pct + "%";
        };
        document.addEventListener("scroll", onScroll, { passive: true });
        onScroll();
    </script>
</body>
</html>
